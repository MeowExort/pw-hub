<Window x:Class="Pw.Hub.Windows.ModuleArgsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding Title}" MinHeight="250" Width="520" WindowStartupLocation="CenterOwner"
        SizeToContent="Height"
        Icon="/Assets/icon.png"
        MaxHeight="{Binding Source={x:Static SystemParameters.WorkArea}, Path=Height}"
        MaxWidth="{Binding Source={x:Static SystemParameters.WorkArea}, Path=Width}"
        Style="{StaticResource ModernWindowChrome}">
    <Border Style="{StaticResource Card}" Margin="20">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,20">
                <TextBlock Text="⚙ Параметры модуля"
                          Style="{StaticResource HeaderMedium}"
                          HorizontalAlignment="Center"/>
            </StackPanel>

            <!-- Form -->
            <Border Grid.Row="1"
                   Style="{StaticResource Panel}"
                   Margin="0,0,0,20"
                   Padding="16">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="InputsPanel"/>
                </ScrollViewer>
            </Border>

            <!-- Actions -->
            <StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right">
                <Button Content="Отмена"
                       Style="{StaticResource ModernButton}"
                       MinWidth="120"
                       Padding="16,10"
                       Margin="0,0,8,0"
                       IsCancel="True"
                       Command="{Binding CancelCommand}"/>
                <Button Content="Запустить"
                       Style="{StaticResource PrimaryButton}"
                       MinWidth="120"
                       Padding="16,10"
                       IsDefault="True"
                       Click="Ok_Click"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
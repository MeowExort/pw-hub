<Window x:Class="Pw.Hub.Windows.LoginRegisterWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Вход в PW Modules" Width="480" MinHeight="500" WindowStartupLocation="CenterScreen" SizeToContent="Height"
        ResizeMode="NoResize"
        Icon="/Assets/icon.png"
        MaxHeight="{Binding Source={x:Static SystemParameters.WorkArea}, Path=Height}"
        MaxWidth="{Binding Source={x:Static SystemParameters.WorkArea}, Path=Width}"
        Style="{StaticResource ModernWindowChrome}">
    <Border Style="{StaticResource Card}" Margin="24">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,20">
                <TextBlock Text="🔐 Авторизация"
                          Style="{StaticResource HeaderMedium}"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,8"/>
                <TextBlock Text="Подключение к библиотеке модулей"
                          Style="{StaticResource ModernTextBlock}"
                          Foreground="{StaticResource TextSecondaryBrush}"
                          HorizontalAlignment="Center"
                          FontSize="12"/>
            </StackPanel>

            <!-- Form -->
            <StackPanel Grid.Row="1" Margin="0,0,0,20">
                <TextBlock Text="Имя пользователя"
                          Style="{StaticResource ModernTextBlock}"
                          Margin="0,0,0,6"/>
                <TextBox x:Name="UsernameText"
                        Style="{StaticResource ModernTextBox}"
                        Padding="12,10"
                        Margin="0,0,0,16"/>

                <TextBlock Text="Пароль"
                          Style="{StaticResource ModernTextBlock}"
                          Margin="0,0,0,6"/>
                <PasswordBox x:Name="PasswordBox"
                            Style="{StaticResource ModernPasswordBox}"
                            Padding="12,10"
                            Margin="0,0,0,16"/>

                <CheckBox x:Name="RememberCheck"
                         Style="{StaticResource ModernCheckBox}"
                         Content="Запомнить меня"
                         IsChecked="True"
                         Margin="0,0,0,8"/>

                <Border x:Name="ErrorBorder"
                       Background="{StaticResource BackgroundTertiaryBrush}"
                       BorderBrush="{StaticResource ErrorBrush}"
                       BorderThickness="1"
                       CornerRadius="3"
                       Padding="12,8"
                       Margin="0,12,0,0"
                       Visibility="Collapsed">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="⚠"
                                  Foreground="{StaticResource ErrorBrush}"
                                  FontSize="16"
                                  Margin="0,0,8,0"/>
                        <TextBlock x:Name="ErrorText"
                                  Style="{StaticResource ModernTextBlock}"
                                  Foreground="{StaticResource ErrorBrush}"
                                  TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Actions -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Отмена"
                       Style="{StaticResource ModernButton}"
                       MinWidth="100"
                       Padding="16,10"
                       Margin="0,0,8,0"
                       IsCancel="True"
                       Click="CancelClick"/>
                <Button Content="Регистрация"
                       Style="{StaticResource ModernButton}"
                       MinWidth="120"
                       Padding="16,10"
                       Margin="0,0,8,0"
                       Click="RegisterClick"/>
                <Button Content="Войти"
                       Style="{StaticResource PrimaryButton}"
                       MinWidth="100"
                       Padding="16,10"
                       IsDefault="True"
                       Click="LoginClick"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>

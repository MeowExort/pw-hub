### PW Hub 0.0.9 — Release Notes (2025‑10‑25)

Это минорный релиз настольного приложения Pw.Hub, сфокусированный на интеграции AI‑чата в Lua‑редактор, улучшении UX и повышении безопасности авторизации.

Основные изменения
- AI‑чат в LuaEditor (боковая панель)
  - История сообщений, кнопка «Новая сессия», ввод промптов.
  - Индикатор «AI думает…» при ожидании ответа.
  - Короткий предпросмотр кода из ответа (первые строки) с кнопками «Копировать» и «Показать полностью».
  - Git‑подобный unified‑diff с подсветкой изменений и возможностью скролла.
  - Автоскролл к последнему сообщению.
  - Ресайз областей чата (сообщения ↔ дифф ↔ ввод) с помощью разделителей.
  - Режим «AI brave»: при включении код, предложенный AI и отличающийся от текущего, автоматически применяется к редактору.
- Улучшения LuaEditor
  - Поле ввода промпта стало многострочным, с переносами и внутренними скроллами; можно менять высоту области.
  - Устранены наложения кнопок на поле ввода; кнопки перемещены ниже.
  - Область предпросмотра изменений теперь корректно скроллируется.
- Навигация по отрядам и аккаунтам
  - Если список пуст — в панели отображаются кнопки «Добавить отряд» и «Добавить аккаунт».
  - Добавлено перетаскивание и упорядочивание: можно перемещать отряды; перемещать аккаунты внутри отряда; перемещать аккаунты между отрядами.
- Безопасность авторизации
  - На диск сохраняется только токен. Данные пользователя всегда загружаются через /api/auth/me при запуске.
- Lua API
  - В Lua добавлено поле `Squad` у Account (Id, Name, OrderIndex).
- UX/стабильность
  - Исправлены падения GridSplitter при ресайзе AI‑панели; сплиттер корректно отключается, если панель скрыта.
  - Корректные состояния кнопок «Запустить/Отладка/Остановить» после завершения скрипта.
  - При запуске модуля без параметров показывается сообщение «Нет аргументов запуска» и модуль стартует сразу.

Интеграция с AI (Ollama Cloud)
- Требуется API‑ключ: переменная окружения OLLAMA_API_KEY или файл config/ai_settings.json (поле OllamaApiKey).
- Ответы AI ожидаются в формате одного блока кода в ```lua ...```. Изменения сравниваются с текущим содержимым редактора и показываются как git‑подобный diff.

Известные ограничения
- Применение изменений в режиме без «AI brave» выполняется целиком (замена текста файла). Частичное применение патча пока не поддерживается.
- Ответы AI отображаются нестримингово (целиком после получения).

Совместимость и обновление
- Обновление не требует миграций БД.
- Минимальные требования не изменились: Windows 10/11, .NET SDK 10.0.
- Рекомендуется проверить наличие переменной OLLAMA_API_KEY или настроить config/ai_settings.json перед использованием AI‑функций.

Ссылки
- Подробный список изменений: Pw.Hub/CHANGELOG.md
- Документация приложения: Pw.Hub/README.md
